# 네이버 뉴스 검색 및 분석 시스템

네이버 뉴스 API를 사용하여 키워드 기반 뉴스 검색 및 관련성 분석을 수행하는 웹 애플리케이션입니다.

## 🔧 최신 수정 사항 (2025.06.04)

### 배치 처리 로직 제거 및 단순화
- **제거된 기능**:
  - 복잡한 배치 처리 및 병렬 처리 로직
  - 진행도 추적 시스템 (ProgressTracker)
  - 복잡한 캐싱 및 비동기 처리
  - ThreadPoolExecutor 기반 멀티스레딩

- **개선된 점**:
  - 단순한 순차적 개별 처리로 변경
  - 안정성 및 디버깅 용이성 향상
  - 메모리 사용량 감소
  - API 호출 오류 확률 감소

- **유지된 기능**:
  - OpenAI, Anthropic LLM API 지원
  - 프롬프트 템플릿 관리
  - 동기/비동기 분석 방식
  - 결과 저장 및 다운로드

## 📋 주요 기능

### 🔍 뉴스 크롤링
- **키워드 기반 검색**: 여러 키워드 동시 검색 지원
- **자유로운 개수 설정**: 키워드당 1~1000개 뉴스 수집
- **추천 카테고리**: 화장품, 건강기능식품 카테고리 제공
- **자동 중복 제거**: URL 기반 중복 기사 자동 제거
- **다운로드 폴더 자동 복사**: 결과 파일 자동 저장

### 🤖 관련성 분석 (단순화)
- **LLM 기반 분석**: OpenAI GPT 또는 Anthropic Claude 사용
- **순차적 처리**: 안정적인 개별 기사 분석
- **코스맥스 맞춤 분석**: 화장품 업계 전문 관점에서 평가
- **카테고리 자동 분류**:
  - 자사 언급기사
  - 업계 관련기사
  - 건강기능식품·펫푸드
  - 기타
- **신뢰도 점수**: 각 기사의 관련성 신뢰도 제공

### 📊 결과 관리
- **파일 목록 조회**: 크롤링/분석 결과 통합 관리
- **미리보기**: 파일 내용 즉시 확인
- **통계 정보**: 키워드별, 날짜별 분석 제공
- **다운로드**: CSV/Excel 형식 지원

## 🚀 설치 및 실행

### 환경 요구사항
- Python 3.8+
- Node.js 16+
- 네이버 개발자 API 키
- OpenAI 또는 Anthropic API 키

### 백엔드 설정
```bash
cd backend
pip install -r requirements.txt

# .env 파일 생성
echo "NAVER_CLIENT_ID=your_client_id" > .env
echo "NAVER_CLIENT_SECRET=your_client_secret" >> .env

# 서버 실행
python run.py
```

### 프론트엔드 설정
```bash
cd frontend
npm install
npm start
```

## 📁 파일 구조

```
naver_news_searching/
├── backend/
│   ├── app/
│   │   ├── api/endpoints/     # API 엔드포인트
│   │   ├── services/          # 비즈니스 로직 (단순화)
│   │   ├── models/            # 데이터 모델
│   │   ├── utils/             # 유틸리티
│   │   └── core/              # 설정
│   ├── results/
│   │   ├── crawling/          # 크롤링 원본 결과
│   │   └── relevance/         # 연관성 분석 결과
│   └── requirements.txt
├── frontend/
│   ├── src/
│   │   ├── pages/             # 페이지 컴포넌트
│   │   ├── components/        # 재사용 컴포넌트
│   │   ├── api/               # API 서비스 (단순화)
│   │   └── utils/             # 유틸리티
│   └── package.json
├── temp_delete/               # 제거된 파일들 (임시 보관)
└── README.md
```

## 🔧 API 엔드포인트

### 크롤링
- `POST /api/crawler/crawl` - 뉴스 크롤링 실행
- `GET /api/crawler/files` - 결과 파일 목록 조회

### 관련성 분석 (단순화)
- `POST /api/relevance/analyze` - 관련성 분석 실행 (비동기)
- `POST /api/relevance/analyze-sync` - 관련성 분석 실행 (동기) - 추천
- `GET /api/relevance/status/{file_name}` - 분석 상태 확인

### 파일 관리
- `GET /api/crawler/files/{file_name}/preview` - 파일 미리보기
- `GET /api/crawler/files/{file_name}/statistics` - 파일 통계
- `GET /api/download/{file_name}` - 파일 다운로드

## 🎯 사용 가이드

### 1. 뉴스 수집
1. 키워드 입력 (직접 입력 또는 카테고리 선택)
2. 키워드당 최대 뉴스 수 설정 (1~1000개)
3. "뉴스 수집 시작" 클릭
4. 결과는 `results/crawling/` 폴더에 저장

### 2. 관련성 분석 (단순화)
1. 크롤링 결과 파일 선택
2. API 키 입력 (OpenAI 또는 Anthropic)
3. 모델 선택 (GPT-3.5-turbo 추천)
4. 분석 방식 선택:
   - **동기 방식** (추천): 즉시 결과 확인
   - **비동기 방식**: 백그라운드 처리
5. 분석 실행
6. 결과는 `results/relevance/` 폴더에 저장

### 3. 결과 확인
1. "결과 목록" 페이지에서 모든 파일 확인
2. 파일 유형별 필터링 가능
3. 미리보기로 즉시 내용 확인
4. 필요시 파일 다운로드

## 🔍 분석 기준

코스맥스 관점에서 다음 기준으로 뉴스 관련성을 평가합니다:

### 자사 언급기사
- '코스맥스'가 직접 언급된 기사

### 업계 관련기사
- 화장품/뷰티 업계 트렌드 및 시장 동향
- 규제 변화 및 정책 동향
- 기술 혁신 및 신소재 정보
- 소비자 행동 변화 및 브랜드 전략
- 글로벌 시장 정보 및 경쟁사 동향

### 건강기능식품·펫푸드
- 건강기능식품 관련 정보
- 펫케어 및 펫푸드 시장 동향
- 관련 규제 및 정책 변화

### 기타
- 간접적으로 사업에 참고가 될 수 있는 기사

## 🛠️ 기술 스택

### 백엔드
- **FastAPI**: 고성능 웹 프레임워크
- **Pandas**: 데이터 처리 및 분석
- **OpenAI/Anthropic**: LLM 기반 관련성 분석 (단순화)
- **Requests**: 네이버 API 호출

### 프론트엔드
- **React**: 사용자 인터페이스
- **Material-UI**: UI 컴포넌트 라이브러리
- **Axios**: HTTP 클라이언트

## 🎨 지원 모델

### OpenAI 모델
- **GPT-3.5-turbo** (추천): 빠르고 비용 효율적
- **GPT-4o-mini**: 경량화 모델, 빠른 속도
- **GPT-4**: 높은 정확도, 높은 비용

### Anthropic 모델
- **Claude Instant**: 빠른 모델
- **Claude 2**: 고성능 모델

## 📝 업데이트 로그

### v1.3.0 (2025.06.04) - 배치 처리 로직 제거
- 🔧 **배치 처리 시스템 제거**: 복잡한 ThreadPoolExecutor, 병렬 처리 제거
- 🚀 **성능 최적화**: 단순한 순차 처리로 안정성 향상
- 🗑️ **진행도 추적 제거**: ProgressTracker 및 관련 API 제거
- 🎯 **UI 단순화**: 분석 방식을 동기/비동기로 단순화
- 💾 **메모리 최적화**: 캐싱 및 복잡한 상태 관리 제거
- 🐛 **안정성 향상**: 에러 발생 확률 대폭 감소

### v1.2.0 (2025.06.04)
- 🤖 GPT-4.1 시리즈 모델 지원 추가
- ⚡ 100만 토큰 컨텍스트 지원
- 💰 비용 효율성 개선

### v1.1.0 (2025.06.03)
- ✨ 크롤링 개수 자유 입력 기능 추가
- 📁 결과 파일 폴더 구조 분리
- 🔍 파일 관리 시스템 개선

### v1.0.0 (2025.05.29)
- 🎉 초기 버전 출시
- 🔍 네이버 뉴스 크롤링 기능
- 🤖 LLM 기반 관련성 분석
- 📊 결과 파일 관리 시스템

## 📈 성능 개선 효과

### 이전 (v1.2.0)
- 복잡한 배치 처리 시스템
- 멀티스레딩 기반 병렬 처리
- 복잡한 진행도 추적
- 높은 메모리 사용량
- 가끔 발생하는 동시성 오류

### 현재 (v1.3.0)
- ✅ 단순한 순차 처리
- ✅ 안정적인 단일 스레드 실행
- ✅ 간단한 상태 관리
- ✅ 낮은 메모리 사용량
- ✅ 높은 안정성 및 예측 가능성

## 📞 지원

문의사항이나 버그 리포트는 개발팀에 연락해주세요.

---

**코스맥스 뉴스 모니터링 시스템** | 화장품 업계 인사이트를 위한 스마트 뉴스 분석 도구
